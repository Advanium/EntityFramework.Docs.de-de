---
title: Generierten Werte - EF Core
author: rowanmiller
ms.author: divega
ms.date: 10/27/2016
ms.assetid: eb082011-11a1-41b4-a108-15daafa03e80
ms.technology: entity-framework-core
uid: core/modeling/generated-properties
ms.openlocfilehash: 88ccc2da3c2b6cbba8920d7113c82e769b459897
ms.sourcegitcommit: 507a40ed050fee957bcf8cf05f6e0ec8a3b1a363
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/26/2018
ms.locfileid: "31812637"
---
# <a name="generated-values"></a><span data-ttu-id="9667f-102">Generierten Werte</span><span class="sxs-lookup"><span data-stu-id="9667f-102">Generated Values</span></span>

## <a name="value-generation-patterns"></a><span data-ttu-id="9667f-103">Wert Generation Muster</span><span class="sxs-lookup"><span data-stu-id="9667f-103">Value Generation Patterns</span></span>

<span data-ttu-id="9667f-104">Es gibt drei Wert Generation Muster, die für Eigenschaften verwendet werden können.</span><span class="sxs-lookup"><span data-stu-id="9667f-104">There are three value generation patterns that can be used for properties.</span></span>

### <a name="no-value-generation"></a><span data-ttu-id="9667f-105">Kein Wert generiert</span><span class="sxs-lookup"><span data-stu-id="9667f-105">No value generation</span></span>

<span data-ttu-id="9667f-106">Kein Wert generiert bedeutet, dass Sie einen gültigen Wert in der Datenbank gespeichert werden sollen immer geliefert werden.</span><span class="sxs-lookup"><span data-stu-id="9667f-106">No value generation means that you will always supply a valid value to be saved to the database.</span></span> <span data-ttu-id="9667f-107">Neue Entitäten muss dieser gültige Wert zugewiesen werden, bevor sie an den Kontext hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="9667f-107">This valid value must be assigned to new entities before they are added to the context.</span></span>

### <a name="value-generated-on-add"></a><span data-ttu-id="9667f-108">Auf generierten Wert hinzufügen</span><span class="sxs-lookup"><span data-stu-id="9667f-108">Value generated on add</span></span>

<span data-ttu-id="9667f-109">Auf generierten Wert hinzufügen bedeutet, der ein Wert für neue Entitäten generiert wird.</span><span class="sxs-lookup"><span data-stu-id="9667f-109">Value generated on add means that a value is generated for new entities.</span></span>

<span data-ttu-id="9667f-110">Abhängig von der Datenbankanbieter verwendet wird, können Werte sein Clientseite von EF oder in der Datenbank generiert.</span><span class="sxs-lookup"><span data-stu-id="9667f-110">Depending on the database provider being used, values may be generated client side by EF or in the database.</span></span> <span data-ttu-id="9667f-111">Wenn der Wert von der Datenbank generiert wird, möglicherweise EF einen temporären Wert zuweisen, wenn Sie den Kontext die Entität hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="9667f-111">If the value is generated by the database, then EF may assign a temporary value when you add the entity to the context.</span></span> <span data-ttu-id="9667f-112">Diese temporäre Wert dann ersetzt werden durch den Wert der Datenbank generierte während `SaveChanges()`.</span><span class="sxs-lookup"><span data-stu-id="9667f-112">This temporary value will then be replaced by the database generated value during `SaveChanges()`.</span></span>

<span data-ttu-id="9667f-113">Wenn Sie den Kontext eine Entität, dessen Wert der Eigenschaft zugewiesen hinzufügen, versucht EF, legen Sie diesen Wert, sondern einen neuer Typ generiert.</span><span class="sxs-lookup"><span data-stu-id="9667f-113">If you add an entity to the context that has a value assigned to the property, then EF will attempt to insert that value rather than generating a new one.</span></span> <span data-ttu-id="9667f-114">Eine Eigenschaft gilt ein Wert zugewiesen, wenn er nicht den CLR-Standardwert zugewiesen ist (`null` für `string`, `0` für `int`, `Guid.Empty` für `Guid`usw..).</span><span class="sxs-lookup"><span data-stu-id="9667f-114">A property is considered to have a value assigned if it is not assigned the CLR default value (`null` for `string`, `0` for `int`, `Guid.Empty` for `Guid`, etc.).</span></span> <span data-ttu-id="9667f-115">Weitere Informationen finden Sie unter [expliziten Werte für die generierten Eigenschaften](../saving/explicit-values-generated-properties.md).</span><span class="sxs-lookup"><span data-stu-id="9667f-115">For more information, see [Explicit values for generated properties](../saving/explicit-values-generated-properties.md).</span></span>

> [!WARNING]  
> <span data-ttu-id="9667f-116">Wie der Wert für die hinzugefügten Entitäten generiert wird, hängen für den Datenbankanbieter verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="9667f-116">How the value is generated for added entities will depend on the database provider being used.</span></span> <span data-ttu-id="9667f-117">Datenbankanbieter möglicherweise automatisch Wert Generation für bestimmte Eigenschaftentypen einrichten, aber andere müssen Sie möglicherweise manuell einrichten, wie der Wert generiert wird.</span><span class="sxs-lookup"><span data-stu-id="9667f-117">Database providers may automatically setup value generation for some property types, but others may require you to manually setup how the value is generated.</span></span>
>
> <span data-ttu-id="9667f-118">Beispielsweise bei Verwendung von SQL Server, Werte automatisch generiert werden für `GUID` Eigenschaften (mithilfe des SQL Server sequenziellen GUID-Algorithmus).</span><span class="sxs-lookup"><span data-stu-id="9667f-118">For example, when using SQL Server, values will be automatically generated for `GUID` properties (using the SQL Server sequential GUID algorithm).</span></span> <span data-ttu-id="9667f-119">Jedoch, wenn Sie, dass angeben eine `DateTime` Eigenschaft generiert wird auf Hinzufügen, dann müssen Sie richten Sie eine Möglichkeit für die Werte generiert werden soll.</span><span class="sxs-lookup"><span data-stu-id="9667f-119">However, if you specify that a `DateTime` property is generated on add, then you must setup a way for the values to be generated.</span></span> <span data-ttu-id="9667f-120">Eine Möglichkeit hierzu ist, so konfigurieren Sie den Standardwert `GETDATE()`, finden Sie unter [Standardwerte](relational/default-values.md).</span><span class="sxs-lookup"><span data-stu-id="9667f-120">One way to do this, is to configure a default value of `GETDATE()`, see [Default Values](relational/default-values.md).</span></span>

### <a name="value-generated-on-add-or-update"></a><span data-ttu-id="9667f-121">Generierter Wert hinzufügen oder aktualisieren</span><span class="sxs-lookup"><span data-stu-id="9667f-121">Value generated on add or update</span></span>

<span data-ttu-id="9667f-122">Generierter Wert hinzufügen oder Update bedeutet, dass ein neuer Wert generiert wird, jedes Mal, wenn der Datensatz (INSERT- oder Update) gespeichert wird.</span><span class="sxs-lookup"><span data-stu-id="9667f-122">Value generated on add or update means that a new value is generated every time the record is saved (insert or update).</span></span>

<span data-ttu-id="9667f-123">Wie `value generated on add`, wenn Sie einen Wert für die Eigenschaft auf eine neu hinzugefügte Instanz einer Entität angeben, dass der Wert eingefügt werden soll, anstatt einen Wert generiert wird.</span><span class="sxs-lookup"><span data-stu-id="9667f-123">Like `value generated on add`, if you specify a value for the property on a newly added instance of an entity, that value will be inserted rather than a value being generated.</span></span> <span data-ttu-id="9667f-124">Es ist auch möglich, einen expliziten Wert festzulegen, bei der Aktualisierung.</span><span class="sxs-lookup"><span data-stu-id="9667f-124">It is also possible to set an explicit value when updating.</span></span> <span data-ttu-id="9667f-125">Weitere Informationen finden Sie unter [expliziten Werte für die generierten Eigenschaften](../saving/explicit-values-generated-properties.md).</span><span class="sxs-lookup"><span data-stu-id="9667f-125">For more information, see [Explicit values for generated properties](../saving/explicit-values-generated-properties.md).</span></span>

> [!WARNING]
> <span data-ttu-id="9667f-126">Wie der Wert für die hinzugefügten und aktualisierten Entitäten generiert wird, hängen für den Datenbankanbieter verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="9667f-126">How the value is generated for added and updated entities will depend on the database provider being used.</span></span> <span data-ttu-id="9667f-127">Datenbankanbieter möglicherweise automatisch Wert Generation für bestimmte Eigenschaftentypen einrichten, während andere Benutzer müssen Sie manuell einrichten, wie der Wert generiert wird.</span><span class="sxs-lookup"><span data-stu-id="9667f-127">Database providers may automatically setup value generation for some property types, while others will require you to manually setup how the value is generated.</span></span>
> 
> <span data-ttu-id="9667f-128">Bei Verwendung von SQL Server, beispielsweise `byte[]` auf generiert festgelegt hinzuzufügen oder zu aktualisieren und markiert als parallelitätstoken, wird Setup mit der `rowversion` -Datentyp - so, dass die Werte in der Datenbank generiert werden sollen.</span><span class="sxs-lookup"><span data-stu-id="9667f-128">For example, when using SQL Server, `byte[]` properties that are set as generated on add or update and marked as concurrency tokens, will be setup with the `rowversion` data type - so that values will be generated in the database.</span></span> <span data-ttu-id="9667f-129">Jedoch, wenn Sie, dass angeben eine `DateTime` Eigenschaft generiert wird auf hinzuzufügen oder zu aktualisieren, dann müssen Sie richten Sie eine Möglichkeit für die Werte generiert werden soll.</span><span class="sxs-lookup"><span data-stu-id="9667f-129">However, if you specify that a `DateTime` property is generated on add or update, then you must setup a way for the values to be generated.</span></span> <span data-ttu-id="9667f-130">Eine Möglichkeit hierzu ist, so konfigurieren Sie den Standardwert `GETDATE()` (siehe [Standardwerte](relational/default-values.md)) zum Generieren von Werten für neue Zeilen.</span><span class="sxs-lookup"><span data-stu-id="9667f-130">One way to do this, is to configure a default value of `GETDATE()` (see [Default Values](relational/default-values.md)) to generate values for new rows.</span></span> <span data-ttu-id="9667f-131">Klicken Sie dann können einen Trigger auf Datenbankebene Sie zum Generieren von Werten während eines Updates (z. B. das folgende Beispieltrigger).</span><span class="sxs-lookup"><span data-stu-id="9667f-131">You could then use a database trigger to generate values during updates (such as the following example trigger).</span></span>
> 
> [!code-sql[Main](../../../samples/core/Modeling/FluentAPI/Samples/ValueGeneratedOnAddOrUpdate.sql)]

## <a name="conventions"></a><span data-ttu-id="9667f-132">Konventionen</span><span class="sxs-lookup"><span data-stu-id="9667f-132">Conventions</span></span>

<span data-ttu-id="9667f-133">Gemäß der Konvention nicht zusammengesetzte Primärschlüssel vom Typ short Int, long oder Guid werden Setup hinzufügen auf generierten Werte aufweisen.</span><span class="sxs-lookup"><span data-stu-id="9667f-133">By convention, non-composite primary keys of type short, int, long, or Guid will be setup to have values generated on add.</span></span> <span data-ttu-id="9667f-134">Alle anderen Eigenschaften werden Setup mit kein Wert generiert werden.</span><span class="sxs-lookup"><span data-stu-id="9667f-134">All other properties will be setup with no value generation.</span></span>

## <a name="data-annotations"></a><span data-ttu-id="9667f-135">Datenanmerkungen</span><span class="sxs-lookup"><span data-stu-id="9667f-135">Data Annotations</span></span>

### <a name="no-value-generation-data-annotations"></a><span data-ttu-id="9667f-136">Kein Wert generiert (Datenanmerkungen)</span><span class="sxs-lookup"><span data-stu-id="9667f-136">No value generation (Data Annotations)</span></span>

[!code-csharp[Main](../../../samples/core/Modeling/DataAnnotations/Samples/ValueGeneratedNever.cs#Sample)]

### <a name="value-generated-on-add-data-annotations"></a><span data-ttu-id="9667f-137">Auf generierten Wert hinzufügen (Datenanmerkungen)</span><span class="sxs-lookup"><span data-stu-id="9667f-137">Value generated on add (Data Annotations)</span></span>

[!code-csharp[Main](../../../samples/core/Modeling/DataAnnotations/Samples/ValueGeneratedOnAdd.cs#Sample)]

> [!WARNING]  
> <span data-ttu-id="9667f-138">Auf diese Weise können nur auf EF wissen, dass die Werte für hinzugefügte Elemente generiert werden, es kann nicht garantiert, dass EF setup wird für den eigentlichen Mechanismus, um Werte zu generieren.</span><span class="sxs-lookup"><span data-stu-id="9667f-138">This just lets EF know that values are generated for added entities, it does not guarantee that EF will setup the actual mechanism to generate values.</span></span> <span data-ttu-id="9667f-139">Finden Sie unter [hinzufügen generierter auf](#value-generated-on-add) Abschnitt, um weitere Details.</span><span class="sxs-lookup"><span data-stu-id="9667f-139">See [Value generated on add](#value-generated-on-add) section for more details.</span></span>

### <a name="value-generated-on-add-or-update-data-annotations"></a><span data-ttu-id="9667f-140">Auf generierten Wert hinzufügen oder aktualisieren (Datenanmerkungen)</span><span class="sxs-lookup"><span data-stu-id="9667f-140">Value generated on add or update (Data Annotations)</span></span>

[!code-csharp[Main](../../../samples/core/Modeling/DataAnnotations/Samples/ValueGeneratedOnAddOrUpdate.cs#Sample)]

> [!WARNING]  
> <span data-ttu-id="9667f-141">Auf diese Weise können nur auf EF wissen, dass die Werte für hinzugefügte oder aktualisierte Entitäten generiert werden, es kann nicht garantiert, dass EF setup wird für den eigentlichen Mechanismus, um Werte zu generieren.</span><span class="sxs-lookup"><span data-stu-id="9667f-141">This just lets EF know that values are generated for added or updated entities, it does not guarantee that EF will setup the actual mechanism to generate values.</span></span> <span data-ttu-id="9667f-142">Finden Sie unter [auf generierten Wert hinzufügen oder aktualisieren](#value-generated-on-add-or-update) Abschnitt, um weitere Details.</span><span class="sxs-lookup"><span data-stu-id="9667f-142">See [Value generated on add or update](#value-generated-on-add-or-update) section for more details.</span></span>

## <a name="fluent-api"></a><span data-ttu-id="9667f-143">Fluent-API</span><span class="sxs-lookup"><span data-stu-id="9667f-143">Fluent API</span></span>

<span data-ttu-id="9667f-144">Sie können die Fluent-API verwenden, so ändern Sie das Value-Generation-Muster für eine bestimmte Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="9667f-144">You can use the Fluent API to change the value generation pattern for a given property.</span></span>

### <a name="no-value-generation-fluent-api"></a><span data-ttu-id="9667f-145">Kein Wert generiert (Fluent-API)</span><span class="sxs-lookup"><span data-stu-id="9667f-145">No value generation (Fluent API)</span></span>

[!code-csharp[Main](../../../samples/core/Modeling/FluentAPI/Samples/ValueGeneratedNever.cs#Sample)]

### <a name="value-generated-on-add-fluent-api"></a><span data-ttu-id="9667f-146">Auf generierten Wert hinzufügen (Fluent-API)</span><span class="sxs-lookup"><span data-stu-id="9667f-146">Value generated on add (Fluent API)</span></span>

[!code-csharp[Main](../../../samples/core/Modeling/FluentAPI/Samples/ValueGeneratedOnAdd.cs#Sample)]

> [!WARNING]  
> <span data-ttu-id="9667f-147">`ValueGeneratedOnAdd()` können nur EF wissen, dass die Werte für hinzugefügte Elemente generiert werden, es kann nicht garantiert, dass EF setup wird für den eigentlichen Mechanismus, um Werte zu generieren.</span><span class="sxs-lookup"><span data-stu-id="9667f-147">`ValueGeneratedOnAdd()` just lets EF know that values are generated for added entities, it does not guarantee that EF will setup the actual mechanism to generate values.</span></span>  <span data-ttu-id="9667f-148">Finden Sie unter [hinzufügen generierter auf](#value-generated-on-add) Abschnitt, um weitere Details.</span><span class="sxs-lookup"><span data-stu-id="9667f-148">See [Value generated on add](#value-generated-on-add) section for more details.</span></span>

### <a name="value-generated-on-add-or-update-fluent-api"></a><span data-ttu-id="9667f-149">Auf generierten Wert hinzufügen oder aktualisieren (Fluent-API)</span><span class="sxs-lookup"><span data-stu-id="9667f-149">Value generated on add or update (Fluent API)</span></span>

[!code-csharp[Main](../../../samples/core/Modeling/FluentAPI/Samples/ValueGeneratedOnAddOrUpdate.cs#Sample)]

> [!WARNING]  
> <span data-ttu-id="9667f-150">Auf diese Weise können nur auf EF wissen, dass die Werte für hinzugefügte oder aktualisierte Entitäten generiert werden, es kann nicht garantiert, dass EF setup wird für den eigentlichen Mechanismus, um Werte zu generieren.</span><span class="sxs-lookup"><span data-stu-id="9667f-150">This just lets EF know that values are generated for added or updated entities, it does not guarantee that EF will setup the actual mechanism to generate values.</span></span> <span data-ttu-id="9667f-151">Finden Sie unter [auf generierten Wert hinzufügen oder aktualisieren](#value-generated-on-add-or-update) Abschnitt, um weitere Details.</span><span class="sxs-lookup"><span data-stu-id="9667f-151">See [Value generated on add or update](#value-generated-on-add-or-update) section for more details.</span></span>
